cat <<EOF > /tmp/lxd-profile-default.yaml
config:
  user.user-data: |
    #cloud-config
    package_upgrade: true
    packages:
      - jq
      - vim
      - lnav
      - snapd
      - squashfuse
    ssh_import_id: katamo
    users:
      - name: katamo
        sudo: ['ALL=(ALL) NOPASSWD:ALL']
        shell: /bin/bash
        groups: [adm,dialout,cdrom,floppy,sudo,audio,dip,video,plugdev,lxd,netdev]
        ssh_import_id: katamo
      - name: ubuntu
        sudo: ['ALL=(ALL) NOPASSWD:ALL']
        shell: /bin/bash
        groups: [adm,dialout,cdrom,floppy,sudo,audio,dip,video,plugdev,lxd,netdev]
        ssh_import_id: katamo
    runcmd:
      - [apt-get, autoremove, "-y"]
      - [cp, "-f", "/etc/skel/.bashrc", "/root/.bashrc"]
      - [cp, "-f", "/etc/skel/.bashrc", "/home/katamo/.bashrc"]
description: Default LXD Profile
devices:
  eth0:
    name: eth0
    nictype: macvlan
    parent: wan
    type: nic
  root:
    path: /
    pool: default
    type: disk
name: default
EOF
